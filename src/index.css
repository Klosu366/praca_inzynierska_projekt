@tailwind base;
@tailwind components;
@tailwind utilities;

/* Leaflet */
@import "leaflet/dist/leaflet.css";

/* ===== RESET / GLOBAL ===== */
:root {
  --nav-h: 64px;
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

html,
body {
  margin: 0;
  padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
    Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;

  /* GLOBALNIE: brak scrolla na całej stronie */
  overflow: hidden;
  height: 100svh;
  min-height: 100svh;
  background: #f8fafc;
  color: #0f172a;
}
@supports (height: 100dvh) {
  html,
  body {
    height: 100dvh;
    min-height: 100dvh;
  }
}

/* Obrazy/iframe responsywne */
img,
video,
canvas {
  max-width: 100%;
  height: auto;
  display: block;
}

/* ===== GŁÓWNY OBSZAR TREŚCI =====
   Treść przewija się wewnątrz <main>, ale paski ukrywamy. */
main {
  height: calc(100svh - var(--nav-h));
  overflow: auto;
  margin-top: 0; /* brak dodatkowego odstępu przy stałej wysokości */
  padding-top: 1rem; /* delikatny odstęp od nagłówka */
  -ms-overflow-style: none; /* IE/Edge */
  scrollbar-width: none; /* Firefox */
}
@supports (height: 100dvh) {
  main {
    height: calc(100dvh - var(--nav-h));
  }
}
main::-webkit-scrollbar {
  display: none;
} /* Chrome/Safari */

/* ===== LAYOUT HELPERS ===== */

/* Sekcja na pełny ekran pod nagłówkiem (np. MAPA). */
.vh-under-nav {
  min-height: calc(100svh - var(--nav-h));
}
@supports (min-height: 100dvh) {
  .vh-under-nav {
    min-height: calc(100dvh - var(--nav-h));
  }
}

/* Kontener pod Leaflet – gdy używasz pełnoekranowej mapy */
.map-fill {
  width: 100%;
  height: calc(100svh - var(--nav-h));
}
@supports (height: 100dvh) {
  .map-fill {
    height: calc(100dvh - var(--nav-h));
  }
}

/* Leaflet:
   - nie wymuszamy już height:100% (to ubijało mapę na mobile),
   - wysokość bierze z samego #map (np. h-[320px] sm:h-[420px] lg:h-[500px]),
   - touch-action dla lepszych gestów. */
.leaflet-container {
  width: 100%;
  touch-action: pan-x pan-y;
}

/* Utility, gdy chcesz ukryć paski w innym przewijalnym elemencie */
.no-scrollbar {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.no-scrollbar::-webkit-scrollbar {
  display: none;
}

/* Kafelki animowane (Twoje) */
.tile {
  opacity: 0;
  transform: translateY(20px);
  animation: fadeInUp 0.5s forwards;
}
@keyframes fadeInUp {
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
@media (prefers-reduced-motion: reduce) {
  .tile {
    animation: none !important;
    opacity: 1;
    transform: none;
  }
}

/* Modal (Twoje) */
.fixed.inset-0 {
  z-index: 50;
}

/* Formularze (Twoje) */
input,
select,
textarea {
  border-color: #d1d5db;
}
textarea {
  resize: vertical;
}

/* Kod (Twoje) */
code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, "Courier New",
    monospace;
}

/* Drobne responsywne dopieszczenia */
@media (max-width: 1024px) {
  main {
    padding-top: 0.75rem;
  }
}
@media (max-width: 768px) {
  main {
    padding-top: 0.5rem;
  }
}

/* Notch (iOS) – jeśli chcesz dodać bezpieczne wcięcia na elemencie */
.safe-pads {
  padding-top: var(--safe-top);
  padding-bottom: var(--safe-bottom);
}
